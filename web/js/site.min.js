window.onload=function(){$(".summary").length||$(".pagesize").remove()};var _is={navbarTop:!1},site={init:function(){site.login(),"Firefox"==checker.browserType()&&$(".navbar-menubody").find("a[data-slug]").css({display:"inline-block"}),afterPjax(),navigasi.activeMenu();var a=$(".navbar-left").attr("data-slide");$("#pjax-container tbody").find("[data-readmore]").removeClass("readmore").addClass("readmore"),$.each($("[data-readmore]"),function(a,e){$(e).next("a[data-show]").length<1&&$(e).text().length>25&&$(e).after('<a href="javascript:void(0)" data-show />')}),$("a[data-show]").attr("data-show","open"),"hide"==a?($(".navbar-left").removeClass("navbar-collapse").addClass("navbar-collapse"),$(".navbar-slidebutton > .fontello").removeClass("icon-angle-double-left").addClass("icon-angle-double-right"),$(".container").addClass("container-collapse")):($(".navbar-left").removeClass("navbar-collapse").addClass("animation slidein-left"),$(".navbar-slidebutton > .fontello").removeClass("icon-angle-double-right").addClass("icon-angle-double-left"),$(".container").removeClass("container-collapse"))},login:function(){$("#request-password-reset-form").addClass("mt30"),$(".smooth-field").addClass("has-value"),$(".smooth-field").each(function(a,e){$(this).on("blur",function(){""!=$(this).val().trim()?$(this).addClass("has-value"):$(this).removeClass("has-value")})}),$(".login-container").drag()}},navigasi={process:function(a){if("load"==a){$('<div class="loading-layer"><div id="loading_id"></div></div>').appendTo(".navbar-favoritebody"),$("#loading_id").loader("load",{left:-125,top:80})}else"destroy"==a&&($("#close_properties").trigger("click"),$("#loading_id").loader("destroy"),$(".loading-layer").remove())},activeMenu:function(){var a=window.location.href,e=a.split("%")[0]+"%"+a.split("%")[1];$(".navbar-menubody .navbar-menu a[data-menu]").each(function(t,o){var n=$(this);(this.href===a||this.href===e&&"?r=pengaturan%2Fpenerimaan%2Fopen-edit"!==window.location.search&&"?r=product%2Fproduct%2Fproduct"!==window.location.search)&&(n.closest(".navbar-menu").addClass("active"),$(".navbar-menubody").scrollTop(n.offset().top-($(".navbar-menubody").height()-$(".navbar-menubody").offset().top)))})},slideMenu:function(a){$.ajax({type:"POST",url:location.pathname+"?r=favorite/slidemenu",data:{"Favorite[menu_slide]":a,"Favorite[data_type]":"slide-menu"},dataType:"text",error:function(a,e,t){console.log(a,e,t)},success:function(e){$(".navbar-left").attr("data-slide",1==a?"show":"hide")}})}},afterPjax=function(){$.each($("table > tbody tr td.btn-display"),function(a,e){var t=$(e).find(".btn").length,o=$(e).find(".btn").outerWidth(),n=$(e).find(".btn[data-shape]");if("rectangular"==n.attr("data-shape")){var i=Math.ceil(n.outerWidth());$(e).width(o*t+i)}else $(e).width(o*t+15)})},isempty=function(a,e){var t="",o=!0;return $.each(a,function(a,n){if(!$(n).val()){o=!1;var i=$(n).attr("id").replace(e,"").replace("_"," ");t+=parsing.toUpper(i,2)+", "}}),{success:o,message:t+" Cannot be Blank!"}};$(document).ajaxStart(function(){}).ajaxStop(function(){afterPjax()}),$(document).ready(function(){$(".navbar-menu a i[data-parent]").each(function(a,e){$(e).parent().attr("data-disabled","disabled")}),$("a[data-disabled]").each(function(a,e){$(e).attr("href","javascript:void(0)")}),$(".navbar-menu a").find("span:contains('Dashboard')").prev(".fontello").removeClass("icon-doc-text-inv").addClass("icon-home-2"),$('input[type="text"]').attr("autocomplete","off"),site.init(),$("body").off("click",".navbar-slidebutton > .fontello").on("click",".navbar-slidebutton > .fontello",function(a){a.preventDefault();var e=$(this);$(".navbar-left").attr("data-slide");e.hasClass("icon-angle-double-left")?($(".navbar-left").removeClass("navbar-collapse").removeClass("animation slidein-left slideout-left").addClass("animation slideout-left"),e.removeClass("icon-angle-double-left").addClass("icon-angle-double-right"),$(".container").addClass("container-collapse")):($(".navbar-left").removeClass("navbar-collapse").removeClass("animation slideout-left slidein-left").addClass("animation slidein-left"),e.removeClass("icon-angle-double-right").addClass("icon-angle-double-left"),$(".container").removeClass("container-collapse"))}),$("body").off("click",".navbar-togglemobile").on("click",".navbar-togglemobile",function(a){a.preventDefault(),_this=$(this),$(".navbar-leftmobile").toggleClass("open"),$(".navbar-leftmobile").hasClass("open")?($(".navbar-leftmobile").slideDown(),$('[data-role="toggle-topmenu"]').next().removeClass("open"),$('[data-role="toggle-topmenu"]').next().hide()):($(".navbar-leftmobile").slideUp(),$('[data-role="toggle-topmenu"]').next().removeClass("open"),$('[data-role="toggle-topmenu"]').next().hide())}),$("body").off("click",'[data-role="toggle-menu"]').on("click",'[data-role="toggle-menu"]',function(a){a.preventDefault();var e=$(this).attr("data-parent");_this=$(this),_this.closest(".navbar-menu").toggleClass("open"),_this.closest(".navbar-menu").hasClass("open")?(_this.removeClass("icon-plus-squared-alt").addClass("icon-minus-squared-alt"),_this.next().removeClass("icon-folder-3").addClass("icon-folder-open-2"),1==e?_this.closest(".navbar-menu").find('.navbar-menu-tree[data-toggle="first-child"]').show():2==e&&_this.closest(".navbar-menu").find('.navbar-menu-tree[data-toggle="twice-child"]').show()):(_this.removeClass("icon-minus-squared-alt").addClass("icon-plus-squared-alt"),_this.next().removeClass("icon-folder-open-2").addClass("icon-folder-3"),_this.closest(".navbar-menu").find(".navbar-menu-tree").hide(),1==e&&($(".navbar-menu-tree .navbar-menu").removeClass("open"),$('[data-role="toggle-menu"]:not([data-parent="1"])').removeClass("icon-minus-squared-alt").addClass("icon-plus-squared-alt"),$('[data-role="toggle-menu"]:not([data-parent="1"])').next().removeClass("icon-folder-open-2").addClass("icon-folder-3")))}),$("body").off("click","a[data-disabled] > span").on("click","a[data-disabled] > span",function(a){a.preventDefault();var e=$(this).siblings("[data-parent]").attr("data-parent");_this=$(this).siblings("[data-parent]"),_this.closest(".navbar-menu").toggleClass("open"),_this.closest(".navbar-menu").hasClass("open")?(_this.removeClass("icon-plus-squared-alt").addClass("icon-minus-squared-alt"),_this.next().removeClass("icon-folder-3").addClass("icon-folder-open-2"),1==e?_this.closest(".navbar-menu").find('.navbar-menu-tree[data-toggle="first-child"]').show():2==e&&_this.closest(".navbar-menu").find('.navbar-menu-tree[data-toggle="twice-child"]').show()):(_this.removeClass("icon-minus-squared-alt").addClass("icon-plus-squared-alt"),_this.next().removeClass("icon-folder-open-2").addClass("icon-folder-3"),_this.closest(".navbar-menu").find(".navbar-menu-tree").hide(),1==e&&($(".navbar-menu-tree .navbar-menu").removeClass("open"),$('[data-role="toggle-menu"]:not([data-parent="1"])').removeClass("icon-minus-squared-alt").addClass("icon-plus-squared-alt"),$('[data-role="toggle-menu"]:not([data-parent="1"])').next().removeClass("icon-folder-open-2").addClass("icon-folder-3")))}),$("body").off("click",'[data-role="toggle-topmenu"]').on("click",'[data-role="toggle-topmenu"]',function(a){a.preventDefault(),_this=$(this),_this.next().toggleClass("open"),_this.next().hasClass("open")?($('[data-role="toggle-topmenu"]').next().removeClass("open"),$('[data-role="toggle-topmenu"]').next().hide(),_this.next().addClass("open"),_is.navbarTop=!0,_this.next().show()):(_is.navbarTop=!1,_this.next().hide())}),$("body").click(function(a){var e=$(a.target);e.is("[data-role] span")||e.is("[data-role]")||"dekstop_version"==is.screen&&1==_is.navbarTop&&($('[data-role="toggle-topmenu"]').next().hide(),$('[data-role="toggle-topmenu"]').next().removeClass("open"),_is.navbarTop=!1),$(".navbarto-favorite").hide(),$(".enter-complete").hide(),$(".enter-complete").empty()}),$("body").off("input",'[data-search="menu"]').on("input",'[data-search="menu"]',function(a){a.preventDefault();var e,t=$.trim($(this).val()).replace(/ +/g," ").toLowerCase();"dekstop_version"==is.screen?e=".navbar-menu-container":"mobile_version"==is.screen&&(e=".navbarmenu-containermobile"),$.each($(this).parents(".navbar-menusearch").siblings(e).find(".navbar-menu"),function(){$(this).show().filter(function(){return!~$(this).text().toLowerCase().indexOf(t)}).hide()})}),$("body").off("contextmenu",".navbar-menu a:not([data-disabled]):not(:contains('Dashboard'))"),$("body").on("contextmenu",".navbar-menu a:not([data-disabled]):not(:contains('Dashboard'))",function(a){var e=$(this);if("mobile_version"!==is.screen&&a.preventDefault(),"favorite"==e.attr("data-type")?($("#addto_favorite").closest("li").hide(),$("#delete_favorite").closest("li").show()):($("#addto_favorite").closest("li").show(),$("#delete_favorite").closest("li").hide()),a.which===KEY.CLICKRIGHT||a.keyCode===KEY.CLICKRIGHT){$(".navbarto-favorite").show(),_is.properties=!0,$(".navbarto-favorite").css({left:e.offset().left+e.outerWidth()-15});var t=e.offset().top-$(window).scrollTop();t<540?$(".navbarto-favorite").css({top:t}):$(".navbarto-favorite").css({top:t-$(".navbarto-favorite").outerHeight()}),$("#addto_favorite").attr("data-menu",e.attr("data-menu")).attr("data-slug",e.attr("data-slug")),$("#delete_favorite").attr("data-menu",e.attr("data-menu")).attr("data-key",e.closest("li").attr("data-key")),$("#open_newtab").attr("href",e.attr("href")),$("#copylink_address").attr("data-copy",e.attr("href"))}}),$("body").off("click","#addto_favorite").on("click","#addto_favorite",function(a){a.preventDefault();var e=$(this),t=parsing.toUpper(e.attr("data-slug").replace(/\-/g," "),2);$.ajax({type:"POST",url:location.pathname+"?r="+e.attr("data-href"),data:{"Favorite[menu_id]":e.attr("data-menu"),"Favorite[data_type]":"favorite"},dataType:"text",error:function(a,e,t){console.log(a,e,t)},beforeSend:function(){navigasi.process("load")},success:function(a){$.trim(a)?($(".navbar-favoritebody").html(a),notification.open("success","Menu "+t+" berhasil ditambah ke Favorite.",2e3)):notification.open("danger","Menu "+t+" sudah ada di Favorite.",2e3)},complete:function(){navigasi.process("destroy")}})}),$("body").off("click","#delete_favorite").on("click","#delete_favorite",function(a){a.preventDefault();var e=$(this);$.ajax({type:"POST",url:location.pathname+"?r="+e.attr("data-href"),data:{key:e.attr("data-key")},dataType:"text",error:function(a,e,t){console.log(a,e,t)},beforeSend:function(){navigasi.process("load")},success:function(a){$(".navbar-favoritebody").html(a)},complete:function(){navigasi.process("destroy")}})}),$("body").off("click","#close_properties").on("click","#close_properties",function(a){a.preventDefault(),$(".navbarto-favorite").hide()}),$(".navbar-menu").draggable({appendTo:".navbar-favoritebody ul",axis:"y",containment:".navbar-left",handle:"a:not([data-disabled]):not([data-type='favorite']):not(:contains('Dashboard'))",helper:"clone",start:function(a,e){$("body").prepend('<div class="ondrag"></div>');$(this).find("a").attr("data-href","favorite/create")},stop:function(a,e){$(".ondrag").remove()}}),$(".navbar-favorite-container .navbar-favoritebody").droppable({drop:function(a,e){var t=$(e.draggable),o=parsing.toUpper(t.find("a").attr("data-slug").replace(/\-/g," "),2);$.ajax({type:"POST",url:location.pathname+"?r="+t.find("a").attr("data-href"),data:{"Favorite[menu_id]":t.find("a").attr("data-menu"),"Favorite[data_type]":"favorite"},dataType:"text",error:function(a,e,t){console.log(a,e,t)},beforeSend:function(){navigasi.process("load")},success:function(a){$.trim(a)?($(".navbar-favoritebody").html(a),notification.open("success","Menu "+o+" berhasil ditambah ke Favorite.",2e3)):notification.open("danger","Menu "+o+" sudah ada di Favorite.",2e3)},complete:function(){navigasi.process("destroy"),t.find("a").removeAttr("data-href")}})}}),$("body").off("click","#copylink_address").on("click","#copylink_address",function(a){a.preventDefault();var e=$(this),t=$("<input>");$("body").append(t),t.val(location.host+e.attr("data-copy")).select(),document.execCommand("copy"),t.remove()}),$(".navbar-favorite-container").resizable({handles:"n",minHeight:220,maxHeight:430,create:function(a,e){$(".ui-resizable-handle.ui-resizable-n").append("<span>==</span>")},resize:function(a,e){var t=e.size.height;$(this).height(t)},stop:function(a,e){var t=parseInt($(".navbar-favorite-container").css("top")),o=$(".navbar-menu-container").outerHeight()+t,n=$(".navbar-menubody").outerHeight()+t;$(this).css({top:0}),$(".navbar-menu-container").css({height:o}),$(".navbar-menubody").css({height:n}),$.ajax({url:location.pathname+"?r=favorite/position",type:"POST",dataType:"text",data:{"Favorite[menu_size]":e.size.height+"~"+o+"~"+n,"Favorite[data_type]":"size"},beforeSend:function(){},success:function(a){},complete:function(){},error:function(a,e,t){console.log(a,e,t)}})}}),$(".navbar-left").resizable({handles:"e",minWidth:250,maxWidth:450}),$("body").off("click","a[data-help]").on("click","a[data-help]",function(a){a.preventDefault(),$(".helper-notification").removeClass("bounceOutRight").removeClass("hidden")}),$("body").off("click","a[data-close]").on("click","a[data-close]",function(a){a.preventDefault(),$(".helper-notification").addClass("bounceOutRight")}),$("body").off("keyup",'input[type="text"]:not([data-search]):not([data-plugin-inputmask]):not([not-uppercase]), textarea:not([not-uppercase])'),$("body").on("keyup",'input[type="text"]:not([data-search]):not([data-plugin-inputmask]):not([not-uppercase]), textarea:not([not-uppercase])',function(a){a.preventDefault(),$(this).parents(".filters").length>0?$(this).val($(this).val().toLowerCase()):$(this).val($(this).val().toUpperCase())}),$("body").off("click","[data-show]").on("click","[data-show]",function(a){a.preventDefault();var e=$(this).prev();e.hasClass("show-text")?e.removeClass("show-text"):e.removeClass("show-text").addClass("show-text")}),$(document).off("beforeSubmit",'form:not(#login-form):not([data-form="x_form"])').on("beforeSubmit",'form:not(#login-form):not([data-form="x_form"])',function(a){loading.open("loading bars")})});